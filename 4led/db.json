{
    "code": [
      "#include <WiFi.h>",
      "#include <WebServer.h>",
      "",
      "// Replace with your network credentials",
      "const char* ssid=\"iPhone 16\";",
      "const char* password =\"Sowmya27\";",
      "",
      "WebServer server(80);",
      "",
      "// GPIO pin assignments",
      "const int ledPins[] = {13, 12, 14, 25};",
      "const int numLeds = 4;",
      "",
      "// Initialize LED pins",
      "void setupPins() {",
      "  for (int i = 0; i < numLeds; i++) {",
      "    pinMode(ledPins[i], OUTPUT);",
      "    digitalWrite(ledPins[i], LOW);",
      "  }",
      "}",
      "",
      "// Handle root URL",
      "void handleRoot() {",
      "  String html = \"<h1>ESP32 LED Control</h1>\";",
      "  for (int i = 0; i < numLeds; i++) {",
      "    html += \"LED \" + String(ledPins[i]) + \": \";",
      "    html += \"<a href=\\\"/on?pin=\" + String(ledPins[i]) + \\\"><button>ON</button></a> \";",
      "    html += \"<a href=\\\"/off?pin=\" + String(ledPins[i]) + \\\"><button>OFF</button></a><br><br>\";",
      "  }",
      "  server.send(200, \"text/html\", html);",
      "}",
      "",
      "// Handle LED ON",
      "void handleLedOn() {",
      "  if (server.hasArg(\"pin\")) {",
      "    int pin = server.arg(\"pin\").toInt();",
      "    digitalWrite(pin, HIGH);",
      "    server.send(200, \"text/html\", \"LED \" + String(pin) + \" is ON.<br><a href=\\\"/\\\">Back</a>\");",
      "  } else {",
      "    server.send(400, \"text/html\", \"Missing pin argument.<br><a href=\\\"/\\\">Back</a>\");",
      "  }",
      "}",
      "",
      "// Handle LED OFF",
      "void handleLedOff() {",
      "  if (server.hasArg(\"pin\")) {",
      "    int pin = server.arg(\"pin\").toInt();",
      "    digitalWrite(pin, LOW);",
      "    server.send(200, \"text/html\", \"LED \" + String(pin) + \" is OFF.<br><a href=\\\"/\\\">Back</a>\");",
      "  } else {",
      "    server.send(400, \"text/html\", \"Missing pin argument.<br><a href=\\\"/\\\">Back</a>\");",
      "  }",
      "}",
      "",
      "void setup() {",
      "  Serial.begin(115200);",
      "  setupPins();",
      "",
      "  WiFi.begin(ssid, password);",
      "  Serial.print(\"Connecting to Wi-Fi...\");",
      "  while (WiFi.status() != WL_CONNECTED) {",
      "    delay(1000);",
      "    Serial.print(\".\");",
      "  }",
      "  Serial.println(\"\\nConnected to Wi-Fi.\");",
      "  Serial.print(\"IP address: \");",
      "  Serial.println(WiFi.localIP());",
      "",
      "  server.on(\"/\", handleRoot);",
      "  server.on(\"/on\", handleLedOn);",
      "  server.on(\"/off\", handleLedOff);",
      "",
      "  server.begin();",
      "  Serial.println(\"HTTP server started.\");",
      "}",
      "",
      "void loop() {",
      "  server.handleClient();",
      "}"
    ]
  }
  
